(n=>{function nt(t){var i=n("#bgp-peer-grid-row_"+t);i.remove()}function p(t){var r=n("#bgp-peer-grid"),u=tt(t),f=r.find("tbody"),e=JSON.stringify(u),i=n.Deferred();return n.ajax({url:"GetBgpPeerGridData",contentType:"application/json; charset=utf-8",type:"POST",data:e,success:function(n){f.html(n);i.resolve()}}),i.promise()}function tt(t){typeof t=="undefined"&&(t=[]);var i=n("#bgp-peer-grid"),r=i.find("tbody tr");return r.each(function(){var i=GetRowData(n(this));t.push(i)}),t}function it(){u.value="";f.value="";o.value="";e.value="";t.value="";s.value=a.data("default-value");h.checked=/true/i.test(v.data("default-value"));c.checked=/true/i.test(y.data("default-value"))}var r=n("#bgpPeerModal"),l=n("#bgpPeerForm"),w=n("#BgpPeerId"),b=n("#Ipv4PeerAddress"),k=n("#Peer2ByteAutonomousSystem"),d=n("#PeerPassword"),a=n("#MaximumRoutes"),v=n("#IsBfdEnabled"),y=n("#IsMultiHop"),g=n("#RowId"),u=w[0],f=b[0],e=k[0],o=d[0],s=a[0],h=v[0],c=y[0],t=g[0],i=n("#bgpPeersComponent");i.on("click","#showBgpPeerFormBtn",function(){r.modal("show").off("hidden.bs.modal").on("hidden.bs.modal",function(){ResetBgpPeerForm()})});n("#saveBgpPeer").on("click",function(){if(l.validate(),l.valid()){r.modal("hide");t.value!==null&&t.value!==""&&RemoveRow(t.value);var n=[];n.push({BgpPeerId:u.value,Ipv4PeerAddress:f.value,PeerPassword:o.value,Peer2ByteAutonomousSystem:e.value,MaximumRoutes:s.value,IsBfdEnabled:h.checked,IsMultiHop:c.checked});p(n)}});i.on("click",".mind-grid-delete-row",function(){var t=n(this).data("row-id");nt(t);p()});i.on("click",".mind-grid-edit-row",function(){var l=n(this).data("row-id"),a=n("#bgp-peer-grid-row_"+l),i=GetRowData(a);u.value=i.BgpPeerId;f.value=i.Ipv4PeerAddress;e.value=i.Peer2ByteAutonomousSystem;o.value=i.PeerPassword;h.checked=/true/i.test(i.IsBfdEnabled);c.checked=/true/i.test(i.IsMultiHop);s.value=i.MaximumRoutes;t.value=l;r.modal("show").off("hidden.bs.modal").on("hidden.bs.modal",function(){it()})});i.on("change",".mind-grid-checkbox",function(){this.value=this.checked})})(jQuery);