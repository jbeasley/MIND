(n=>{const r=n("#bgpPeerModal"),k=n("#BgpPeerId"),d=n("#Ipv4PeerAddress"),g=n("#Peer2ByteAutonomousSystem"),nt=n("#PeerPassword"),l=n("#MaximumRoutes"),a=n("#IsBfdEnabled"),v=n("#IsMultiHop"),tt=n("#RowId"),u=k[0],f=d[0],e=g[0],o=nt[0],s=l[0],h=a[0],c=v[0],t=tt[0],i=n("#bgpPeersComponent");i.on("click","#showBgpPeerFormBtn",()=>{r.modal("show").off("hidden.bs.modal").on("hidden.bs.modal",()=>b())});n("#saveBgpPeer").on("click",()=>{const i=n("#bgpPeerForm");if(i.validate(),i.valid()){r.modal("hide");t.value!==null&&t.value!==""&&y(t.value);let l=[];l.push({BgpPeerId:u.value,Ipv4PeerAddress:f.value,PeerPassword:o.value,Peer2ByteAutonomousSystem:e.value,MaximumRoutes:s.value,IsBfdEnabled:h.checked,IsMultiHop:c.checked});p(l)}});i.on("click",".mind-grid-delete-row",function(){let t=n(this).data("row-id");y(t);p()});i.on("click",".mind-grid-edit-row",function(){const l=n(this).data("row-id"),a=n("#bgp-peer-grid-row_"+l),i=w(a);u.value=i.BgpPeerId;f.value=i.Ipv4PeerAddress;e.value=i.Peer2ByteAutonomousSystem;o.value=i.PeerPassword;h.checked=/true/i.test(i.IsBfdEnabled);c.checked=/true/i.test(i.IsMultiHop);s.value=i.MaximumRoutes;t.value=l;r.modal("show").off("hidden.bs.modal").on("hidden.bs.modal",()=>b())});i.on("change",".mind-grid-checkbox",function(){this.value=this.checked});const y=t=>{n("#bgp-peer-grid-row_"+t).remove()},p=t=>{const r=it(t),u=JSON.stringify(r),i=n.Deferred();return Mind.Utilities.showSpinner("Fetching data from the server...."),n.post({url:"GetBgpPeerGridData",contentType:"application/json; charset=utf-8",data:u}).done(t=>{n("#bgp-peer-grid").find("tbody").html(t),i.resolve()}).always(()=>Mind.Utilities.hideSpinner()),i.promise()},it=t=>{typeof t=="undefined"&&(t=[]);const i=n("#bgp-peer-grid").find("tbody tr");return i.each(function(){let i=w(n(this));t.push(i)}),t},w=n=>({BgpPeerId:n.data("bgp-peer-id"),Ipv4PeerAddress:n.data("ipv4-peer-address"),PeerPassword:n.data("peer-password"),Peer2ByteAutonomousSystem:n.data("peer-2-byte-as"),MaximumRoutes:n.data("maximum-routes"),IsBfdEnabled:n.data("is-bfd-enabled"),IsMultiHop:n.data("is-multihop")}),b=()=>{u.value="",f.value="",o.value="",e.value="",t.value="",s.value=l.data("default-value"),h.checked=/true/i.test(a.data("default-value")),c.checked=/true/i.test(v.data("default-value"))}})(jQuery);