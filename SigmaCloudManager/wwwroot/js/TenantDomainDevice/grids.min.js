(function(n){function p(t){var i=n("#port-grid-row_"+t);i.remove()}function w(t){var r=n("#port-grid"),u=ht(t),f=r.find("tbody"),e=JSON.stringify(u),i=n.Deferred();return n.ajax({url:"GetPortsGridData",contentType:"application/json; charset=utf-8",type:"POST",data:e,success:function(n){f.html(n);i.resolve()}}),i.promise()}function ht(t){typeof t=="undefined"&&(t=[]);var i=n("#port-grid"),r=i.find("tbody tr");return r.each(function(){var i=b(n(this));t.push(i)}),t}function b(n){var t=n.data("port-id"),i=n.data("port-type"),r=n.data("port-name"),u=n.data("port-bandwidth-gbps"),f=n.data("port-connector"),e=n.data("port-status"),o=n.data("port-sfp"),s=n.data("port-role"),h=n.data("port-pool"),c=n.data("tenant-id");return{PortId:t,PortType:i,PortName:r,PortBandwidthGbps:u,PortConnector:f,PortSfp:o,PortStatus:e,PortRole:s,PortPool:h,TenantId:c}}function k(){u.value="";f.value="";e.value="";o.selectedIndex=0;i.value="";s.selectedIndex=0;h.selectedIndex=0;c.selectedIndex=0;l.selectedIndex=0;a.selectedIndex=0;v.value=""}var r=n("#portModal"),t=n("#portForm"),d=n("#PortId"),g=n("#PortType"),nt=n("#PortName"),tt=n("#PortBandwidthGbps"),it=n("#PortConnector"),rt=n("#PortSfp"),ut=n("#PortStatus"),ft=n("#PortRole"),et=n("#PortPool"),ot=n("#TenantId"),st=n("#RowId"),u=d[0],f=g[0],e=nt[0],o=tt[0],s=it[0],h=rt[0],c=ut[0],l=ft[0],a=et[0],v=ot[0],i=st[0],y=n("#portsComponent");r.on("show.bs.modal",function(){n("#pills-type-name-tab").tab("show")}).on("hidden.bs.modal",function(){k()});y.on("click","#showPortFormBtn",function(){r.modal("show")});t.bind("invalid-form.validate",function(){var i=t.data("validator");n('#pills-tab a[href="#'+n(i.errorList[0].element).closest(".tab-pane").attr("id")+'"]').tab("show")});n("#savePort").on("click",function(){var y=t.data("validator"),n;(y.settings.ignore="",t.validate(),t.valid())&&(r.modal("hide"),i.value!==null&&i.value!==""&&p(i.value),n=[],n.push({PortId:u.value,PortType:f.value,PortName:e.value,PortBandwidthGbps:o.value,PortConnector:s.value,PortSfp:h.value,PortStatus:c.value,PortPool:a.value,PortRole:l.value,TenantId:v.value}),w(n))});y.on("click",".mind-grid-delete-row",function(){var t=n(this).data("row-id");p(t);w()});y.on("click",".mind-grid-edit-row",function(){var y=n(this).data("row-id"),p=n("#port-grid-row_"+y),t=b(p);u.value=t.PortId;f.value=t.PortType;e.value=t.PortName;o.value=t.PortBandwidthGbps;s.value=t.PortConnector;h.value=t.PortSfp;c.value=t.PortStatus;a.value=t.PortPool;l.value=t.PortRole;i.value=t.RowId;v.value=t.TenantId;r.modal("show").off("hidden.bs.modal").on("hidden.bs.modal",function(){k()})})})(jQuery);